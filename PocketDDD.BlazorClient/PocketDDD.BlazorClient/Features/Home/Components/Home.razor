@page "/"
@using PocketDDD.BlazorClient.Features.Login.Components
@using PocketDDD.BlazorClient.Services;
@inject IDialogService Dialog
@inject LocalStorageService LocalStorage

<MudLayout>
    <MudAppBar>
        <MudGrid Class="d-flex align-end">
            <MudItem>DDDSW 2023</MudItem>
            <MudItem Class="ml-auto"><MudIcon Icon="@Icons.Material.Filled.TagFaces" Title="Favorite" /></MudItem>
        </MudGrid>
        

        
    </MudAppBar>
    <MudMainContent>
        
    </MudMainContent>
</MudLayout>

@code {
    protected override async void OnInitialized()
    {
        var user = await LocalStorage.GetCurrentUser();

        if(user is null)
            Dialog.Show<Login>("", new DialogOptions { FullScreen = true });
    }
}
